{
  "out_textures": [
    "deferred_albedo"
  ],
  "textures": [
    {
      "name": "screen_space_ambiant_occlusion",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "ssao_blur",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "lighting_ambiant",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "lighting_bloom",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "lighting_bloom_ssao",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "lighting_bloom_ssao_hdr",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "brightness",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "brightness_gaussian_blur_horizontal_2",
      "size": {
        "x": "-2",
        "y": "-2"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "brightness_gaussian_blur_vertical_2",
      "size": {
        "x": "-2",
        "y": "-2"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "deferred_albedo",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "deferred_normal",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "deferred_mrao",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "deferred_position",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "view_position",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "NEAREST"
      },
      "mag_filter": {
        "value": "NEAREST"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "view_normal",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "NEAREST"
      },
      "mag_filter": {
        "value": "NEAREST"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "lighting",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "brightness_gaussian_blur_horizontal_4",
      "size": {
        "x": "-4",
        "y": "-4"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    },
    {
      "name": "brightness_gaussian_blur_vertical_4",
      "size": {
        "x": "-4",
        "y": "-4"
      },
      "clear": "true",
      "pixel_element_size": {
        "value": "HALF"
      },
      "pixel_structure": {
        "value": "RGB"
      },
      "min_filter": {
        "value": "LINEAR"
      },
      "mag_filter": {
        "value": "LINEAR"
      },
      "wrap_s": {
        "value": "CLAMP_TO_EDGE"
      },
      "wrap_t": {
        "value": "CLAMP_TO_EDGE"
      }
    }
  ],
  "effects": [
    {
      "name": "deferred",
      "input_type": "SCENE",
      "input_scene": "scene",
      "input_texture_names": [
        // TODO(anirul): This is where the input material textures should go.
        // TODO(anirul): This should be done via the material loader.
      ],
      "output_texture_names": [
        "deferred_albedo",
        "deferred_normal",
        "deferred_mra",
        "deferred_position"
      ],
      "shader": "PhysicallyBasedRendering",
      "parameters": [
        {
          "name": "projection",
          "value": {
            "enum": "PROJECTION_MAT4"
          }
        },
        {
          "name": "view",
          "value": {
            "enum": "VIEW_MAT4"
          }
        },
        {
          "name": "model",
          "value": {
            "enum": "MODEL_MAT4"
          }
        },
        {
          "name": "camera_position",
          "value": {
            "enum": "CAMERA_POSITION_VEC3"
          }
        }
      ]
    },
    {
      "name": "view",
      "input_type": "SCENE",
      "input_scene": "scene",
      "output_textures_names": [
        "view_position",
        "view_normal"
      ],
      "shader": "ViewPositionNormal",
      "parameters": [
        {
          "name": "inverted_normals",
          "value": {
            "boolean": "false"
          }
        },
        {
          "name": "projection",
          "value": {
            "enum": "PROJECTION_MAT4"
          }
        },
        {
          "name": "view",
          "value": {
            "enum": "VIEW_MAT4"
          }
        },
        {
          "name": "model",
          "value": {
            "enum": "MODEL_MAT4"
          }
        }
      ]
    },
    {
      "name": "blur",
      "input_type": "TEXTURE_2D",
      "input_texture_names": [
        "screen_space_ambiant_occlusion"
      ],
      "output_texture_names": [
        "ssao_blur"
      ],
      "shader": "Blur",
      "parameters": [
        {
          "name": "exponent",
          "value": {
            "real": "2.f"
          }
        }
      ]
    },
    {
      "name": "brightness",
      "input_type": "TEXTURE_2D",
      "input_texture_names": [
        "lighting_ambiant"
      ],
      "output_texture_names": [
        "brightness"
      ],
      "shader": "Brightness"
    },
    {
      "name": "gaussian_blur_h2",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "brightness"
      ],
      "output_texture_names": [
        "brightness_gaussian_blur_horizontal_2"
      ],
      "shader": "GaussianBlur",
      "parameters": [
        {
          "name": "horizontal",
          "value": {
            "boolean": "true"
          }
        }
      ]
    },
    {
      "name": "gaussian_blur_v2",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "brightness_gaussian_blur_horizontal_2"
      ],
      "output_texture_names": [
        "brightness_gaussian_blur_vertical_2"
      ],
      "shader": "GaussianBlur",
      "parameters": [
        {
          "name": "horizontal",
          "value": {
            "boolean": "false"
          }
        }
      ]
    },
    {
      "name": "gaussian_blur_h4",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "brightness_gaussian_blur_vertical_2"
      ],
      "output_texture_names": [
        "brightness_gaussian_blur_horizontal_4"
      ],
      "shader": "GaussianBlur",
      "parameters": [
        {
          "name": "horizontal",
          "value": {
            "boolean": "true"
          }
        }
      ]
    },
    {
      "name": "gaussian_blur_h4",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "brightness_gaussian_blur_horizontal_4"
      ],
      "output_texture_names": [
        "brightness_gaussian_blur_vertical_4"
      ],
      "shader": "GaussianBlur",
      "parameters": [
        {
          "name": "horizontal",
          "value": {
            "boolean": "false"
          }
        }
      ]
    },
    {
      "name": "addition_bloom",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "lighting_ambiant",
        "brightness_gaussian_blur_vertical_4"
      ],
      "output_texture_names": [
        "lighting_bloom"
      ],
      "shader": "VectorAddition",
      "parameters": [
        {
          "name": "texture_max",
          "value": {
            "integer": 2
          }
        }
      ]
    },
    {
      "name": "multiply",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "lighting_bloom",
        "ssao_blur"
      ],
      "output_texture_names": [
        "lighting_bloom_ssao"
      ],
      "shader": "VectorMultiply",
      "parameters": [
        {
          "name": "texture_max",
          "value": {
            "integer": 2
          }
        }
      ]
    },
    {
      "name": "lighting",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "deferred_albedo",
        "deferred_normal",
        "deferred_mra",
        "deferred_point"
      ],
      "output_texture_names": [
        "lighting"
      ],
      "shader": "Lighting",
      "parameters": [
        {
          "name": "camera_position",
          "value": {
            "enum": "CAMERA_POSITION_VEC3"
          }
        },
        {
          "name": "light_position",
          "value": {
            "vec3s": {
              "values": [
                {
                  "x": "5.0f",
                  "y": "5.0f",
                  "z": "5.0f"
                },
                {
                  "x": "-5.0f",
                  "y": "5.0f",
                  "z": "5.0f"
                },
                {
                  "x": "5.0f",
                  "y": "5.0f",
                  "z": "-5.0f"
                },
                {
                  "x": "-5.0f",
                  "y": "5.0f",
                  "z": "-5.0f"
                }
              ]
            }
          }
        },
        {
          "name": "light_color",
          "value": {
            "vec3s": {
              "values": [
                {
                  "x": "100.0f",
                  "y": "100.0f",
                  "z": "100.0f"
                },
                {

                  "x": "100.0f",
                  "y": "100.0f",
                  "z": "100.0f"
                },
                {
                  "x": "100.0f",
                  "y": "100.0f",
                  "z": "100.0f"
                },
                {
                  "x": "100.0f",
                  "y": "100.0f",
                  "z": "100.0f"
                }
              ]
            }
          }
        },
        {
          "name": "light_max",
          "value": {
            "integer": 4
          }
        }
      ]
    },
    {
      "name": "addition_lighting",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "deferred_albedo",
        "lighting"
      ],
      "output_texture_names": [
        "lighting_ambiant"
      ],
      "shader": "VectorAddition",
      "parameters": [
        {
          "name": "texture_max",
          "value": {
            "integer": 2
          }
        }
      ]
    },
    {
      "name": "screen_space_ambiant_occlusion",
      "input_type": "TEXTURE_2D",
      "input_texture_name": [
        "view_position",
        "view_normal"
      ],
      "output_texture_names": [
        "screen_space_ambiant_occlusion"
      ],
      "shader": "ScreenSpaceAmbiantOcclusion",
      "parameters": [
        {
          "name": "kernel",
          "value": {
            "vec3s": {
              "values": [
                {
                  "x": "-0.0315447",
                  "y": "-0.0232464",
                  "z": "0.0238357"
                },
                {
                  "x": "0.00785198",
                  "y": "-0.0673455",
                  "z": "0.00563663"
                },
                {
                  "x": "0.0185005",
                  "y": "0.0448534",
                  "z": "0.0197856"
                },
                {
                  "x": "0.0312699",
                  "y": "-0.043974",
                  "z": "0.00252555"
                },
                {
                  "x": "0.00213241",
                  "y": "-0.00613377",
                  "z": "0.00238856"
                },
                {
                  "x": "-0.0226011",
                  "y": "0.0511582",
                  "z": "0.0806621"
                },
                {
                  "x": "0.069743",
                  "y": "0.0054254",
                  "z": "0.00926419"
                },
                {
                  "x": "-0.0140521",
                  "y": "0.0336563",
                  "z": "0.0761417"
                },
                {
                  "x": "-0.0141209",
                  "y": "-0.0269007",
                  "z": "0.021878"
                },
                {
                  "x": "0.00995372",
                  "y": "0.0192421",
                  "z": "0.0371857"
                },
                {
                  "x": "-0.0355547",
                  "y": "0.0678244",
                  "z": "0.0507865"
                },
                {
                  "x": "0.030711",
                  "y": "-0.0866114",
                  "z": "0.0640124"
                },
                {
                  "x": "-0.031758",
                  "y": "-0.00888489",
                  "z": "0.0535491"
                },
                {
                  "x": "-0.0153732",
                  "y": "-0.0131963",
                  "z": "0.0105311"
                },
                {
                  "x": "-0.000193373",
                  "y": "0.00570334",
                  "z": "0.00652011"
                },
                {
                  "x": "0.0401917",
                  "y": "0.000449233",
                  "z": "0.02564"
                },
                {
                  "x": "0.013674",
                  "y": "-0.000169247",
                  "z": "0.00373915"
                },
                {
                  "x": "0.0421648",
                  "y": "-0.040139",
                  "z": "0.0235752"
                },
                {
                  "x": "-0.0328507",
                  "y": "0.0609829",
                  "z": "0.0390336"
                },
                {
                  "x": "0.0827393",
                  "y": "-0.0844159",
                  "z": "0.0714399"
                },
                {
                  "x": "0.0851713",
                  "y": "-0.0973351",
                  "z": "0.00206132"
                },
                {
                  "x": "0.0980285",
                  "y": "0.0344848",
                  "z": "0.0979926"
                },
                {
                  "x": "0.049063",
                  "y": "0.0381704",
                  "z": "0.0114537"
                },
                {
                  "x": "-0.0822761",
                  "y": "0.00733034",
                  "z": "0.16322"
                },
                {
                  "x": "-0.0219198",
                  "y": "0.0851447",
                  "z": "0.0335728"
                },
                {
                  "x": "0.0104004",
                  "y": "-0.00894467",
                  "z": "0.0400376"
                },
                {
                  "x": "-0.00531921",
                  "y": "0.00110069",
                  "z": "0.00616288"
                },
                {
                  "x": "0.0140045",
                  "y": "-0.000617863",
                  "z": "0.194186"
                },
                {
                  "x": "0.0248658",
                  "y": "0.178001",
                  "z": "0.142326"
                },
                {
                  "x": "-0.0221349",
                  "y": "-0.0186879",
                  "z": "0.0232489"
                },
                {
                  "x": "-0.108036",
                  "y": "-0.0595405",
                  "z": "0.000396159"
                },
                {
                  "x": "-0.0505698",
                  "y": "0.0224265",
                  "z": "0.0501235"
                },
                {
                  "x": "-0.117398",
                  "y": "-0.0671268",
                  "z": "0.163161"
                },
                {
                  "x": "-0.104875",
                  "y": "0.0543914",
                  "z": "0.057859"
                },
                {
                  "x": "-0.000168996",
                  "y": "-0.229999",
                  "z": "0.191581"
                },
                {
                  "x": "0.00910703",
                  "y": "0.0460269",
                  "z": "0.0281041"
                },
                {
                  "x": "0.211396",
                  "y": "-0.0399051",
                  "z": "0.0310157"
                },
                {
                  "x": "-0.281073",
                  "y": "-0.0130238",
                  "z": "0.263091"
                },
                {
                  "x": "-0.19428",
                  "y": "-0.155978",
                  "z": "0.0829263"
                },
                {
                  "x": "-0.255851",
                  "y": "0.103669",
                  "z": "0.213033"
                },
                {
                  "x": "-0.0724531",
                  "y": "-0.00677189",
                  "z": "0.0559312"
                },
                {
                  "x": "-0.0479846",
                  "y": "0.0408676",
                  "z": "0.0216966"
                },
                {
                  "x": "0.419113",
                  "y": "-0.0840001",
                  "z": "0.0614351"
                },
                {
                  "x": "-0.142124",
                  "y": "-0.117721",
                  "z": "0.0123825"
                },
                {
                  "x": "-0.100215",
                  "y": "-0.148081",
                  "z": "0.15891"
                },
                {
                  "x": "-0.175959",
                  "y": "-0.0557777",
                  "z": "0.472969"
                },
                {
                  "x": "0.166189",
                  "y": "-0.31206",
                  "z": "0.372383"
                },
                {
                  "x": "-0.148555",
                  "y": "0.214538",
                  "z": "0.140087"
                },
                {
                  "x": "0.0558507",
                  "y": "0.176665",
                  "z": "0.210244"
                },
                {
                  "x": "0.449903",
                  "y": "0.132308",
                  "z": "0.218952"
                },
                {
                  "x": "0.206962",
                  "y": "0.221446",
                  "z": "0.540535"
                },
                {
                  "x": "0.247703",
                  "y": "-0.148567",
                  "z": "0.189487"
                },
                {
                  "x": "-0.48472",
                  "y": "-0.105082",
                  "z": "0.352459"
                },
                {
                  "x": "-0.0621413",
                  "y": "0.2381",
                  "z": "0.450433"
                },
                {
                  "x": "0.00817513",
                  "y": "0.0056147",
                  "z": "0.0100818"
                },
                {
                  "x": "0.04268",
                  "y": "0.00276263",
                  "z": "0.0256127"
                },
                {
                  "x": "0.289768",
                  "y": "-0.0150121",
                  "z": "0.453261"
                },
                {
                  "x": "-0.323969",
                  "y": "0.449255",
                  "z": "0.466839"
                },
                {
                  "x": "0.0853368",
                  "y": "-0.700595",
                  "z": "0.437232"
                },
                {
                  "x": "-0.38395",
                  "y": "-0.0728528",
                  "z": "0.213074"
                },
                {
                  "x": "0.607353",
                  "y": "-0.0959567",
                  "z": "0.372154"
                },
                {
                  "x": "-0.0320814",
                  "y": "-0.068635",
                  "z": "0.118854"
                },
                {
                  "x": "0.000619743",
                  "y": "0.000552596",
                  "z": "1.41305e-06"
                },
                {
                  "x": "0.284828",
                  "y": "0.236879",
                  "z": "0.166289"
                }
              ]
            }
          }
        },
        {
          "name": "noize_scale",
          "value": {
            "vec2": {
              "x": "-4.0f",
              "y": "-4.0f"
            }
          }
        }
      ]
    }
  ]
}
