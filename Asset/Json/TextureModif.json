{
  "name": "TextureModif",
  "default_texture_name": "normal_map",
  "textures": [
    {
      "name": "input_depth",
      "pixel_element_size": { "value": "SHORT" },
      "pixel_structure": { "value": "GREY" },
      "file_name": "Asset/input.png"
    },
    {
      "name": "corrected_depth",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "cubemap": "false",
      "pixel_element_size": { "value": "FLOAT" },
      "pixel_structure": { "value": "GREY" },
    },
    {
      "name": "normal_map",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "cubemap": "false",
      "pixel_element_size": { "value": "BYTE" },
      "pixel_structure": { "value": "RGB" }
    },
    {
      "name": "blured_normal_map",
      "size": {
        "x": "-1",
        "y": "-1"
      },
      "cubemap": "false",
      "pixel_element_size": { "value": "BYTE" },
      "pixel_structure": { "value": "RGB" }
    }
  ],
  "programs": [
    {
      "name": "HorizontalSmoothProgram",
      "output_texture_names": [ "corrected_depth" ],
      "input_scene_type": { "value": "QUAD" },
      "shader": "HorizontalSmooth"
    },
    {
      "name": "ComputeNormalProgram",
      "output_texture_names": [ "normal_map" ],
      "input_scene_type": { "value": "QUAD" },
      "shader": "TextureModif",
      "parameters": [
        {
          "name": "time_s",
          "uniform_enum": "FLOAT_TIME_S"
        }
      ]
    },
    {
      "name": "BlurProgram",
      "output_texture_names": [ "blured_normal_map" ],
      "input_scene_type": { "value": "QUAD" },
      "shader": "Blur"
    }
  ],
  "materials": [
    {
      "name": "HorizontalSmoothMaterial",
      "program_name": "HorizontalSmoothProgram",
      "texture_names": [ "input_depth" ],
      "inner_names": [ "Depth" ]
    },
    {
      "name": "ComputeNormalMaterial",
      "program_name": "ComputeNormalProgram",
      "texture_names": [ "input_depth" ],
      "inner_names": [ "Depth" ]
    },
    {
      "name": "BlurMaterial",
      "program_name": "BlurProgram",
      "texture_names": [ "normal_map" ],
      "inner_names": [ "Image" ]
    }
  ],
  "scene_tree": {
    "scene_matrices": [
      {
        "name": "root",
        "clean_buffer": {
          "values": [ "CLEAR_COLOR", "CLEAR_DEPTH" ]
        },
        "matrix": {
          "m11": "1.0",
          "m22": "1.0",
          "m33": "1.0",
          "m44": "1.0"
        }
      }
    ],
    "scene_static_meshes": [
      {
        "name": "HorizontalSmoothMesh",
        "parent": "root",
        "material_name": "HorizontalSmoothMaterial",
        "mesh_enum": "QUAD"
      },
      {
        "name": "ComputeNormalMesh",
        "parent": "root",
        "material_name": "ComputeNormalMaterial",
        "mesh_enum": "QUAD"
      },
      {
        "name": "BlurMesh",
        "parent": "root",
        "material_name": "BlurMaterial",
        "mesh_enum": "QUAD"
      }
    ],
    "post_processes": [
      {
        "name": "HorizontalSmoothProcess",
        "mesh_name": "HorizontalSmoothMesh",
        "material_name": "HorizontalSmoothMaterial"
      },
      {
        "name": "ComputeNormalPostProcess",
        "mesh_name": "ComputeNormalMesh",
        "material_name": "ComputeNormalMaterial"
      },
      {
        "name": "BlurPostProcess",
        "mesh_name": "BlurMesh",
        "material_name": "BlurMaterial"
      }
    ]
  }
}